2025-02-02 12:28:05.587 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:28:05.697 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:28:05.727 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:28:05.729 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:28:05.730 +01:00 [INF] Hosting environment: Development
2025-02-02 12:28:05.730 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:28:06.379 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:28:06.474 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 96.4136ms
2025-02-02 12:28:06.523 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/swagger-ui-bundle.js - null null
2025-02-02 12:28:06.523 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/swagger-ui.css - null null
2025-02-02 12:28:06.523 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/swagger-ui-standalone-preset.js - null null
2025-02-02 12:28:06.557 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-02-02 12:28:06.557 +01:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-02-02 12:28:06.558 +01:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-02-02 12:28:06.569 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 47.2785ms
2025-02-02 12:28:06.569 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/swagger-ui.css - 200 152034 text/css 46.1002ms
2025-02-02 12:28:06.569 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 46.7232ms
2025-02-02 12:28:06.809 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:28:06.891 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.3299ms
2025-02-02 12:29:27.632 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 171
2025-02-02 12:29:27.652 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:29:27.687 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:29:27.688 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:29:27.722 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:29:27.743 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:29:27.908 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:29:27.919 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 28
2025-02-02 12:29:27.924 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 12.7564ms.
2025-02-02 12:29:27.926 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:29:27.937 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 191.648ms
2025-02-02 12:29:27.937 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:29:27.938 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 305.8419ms
2025-02-02 12:31:28.501 +01:00 [INF] Application is shutting down...
2025-02-02 12:31:33.174 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:31:33.289 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:31:33.318 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:31:33.321 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:31:33.321 +01:00 [INF] Hosting environment: Development
2025-02-02 12:31:33.321 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:31:33.936 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:31:34.038 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 102.6174ms
2025-02-02 12:31:34.332 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:31:34.414 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.4533ms
2025-02-02 12:31:40.830 +01:00 [INF] Application is shutting down...
2025-02-02 12:31:42.745 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:31:42.849 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:31:42.874 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:31:42.876 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:31:42.877 +01:00 [INF] Hosting environment: Development
2025-02-02 12:31:42.877 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:31:43.602 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:31:43.709 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 108.6454ms
2025-02-02 12:31:43.969 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:31:44.044 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.1485ms
2025-02-02 12:32:13.495 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 190
2025-02-02 12:32:13.512 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:32:13.535 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:32:13.536 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:32:13.568 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:32:13.583 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:32:13.736 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:32:13.746 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 28
2025-02-02 12:32:13.750 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 11.8419ms.
2025-02-02 12:32:13.755 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:32:13.767 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 182.201ms
2025-02-02 12:32:13.768 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:32:13.768 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 273.1199ms
2025-02-02 12:35:12.593 +01:00 [INF] Application is shutting down...
2025-02-02 12:35:16.235 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:35:16.332 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:35:16.356 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:35:16.358 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:35:16.358 +01:00 [INF] Hosting environment: Development
2025-02-02 12:35:16.358 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:35:17.824 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:35:17.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 151.5672ms
2025-02-02 12:35:18.262 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:35:18.378 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.1925ms
2025-02-02 12:35:37.499 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 190
2025-02-02 12:35:37.517 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:35:37.531 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:35:37.532 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:35:37.555 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:35:37.567 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:35:37.719 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:35:37.729 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 38
2025-02-02 12:35:37.734 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 11.5182ms.
2025-02-02 12:35:37.739 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:35:37.751 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 182.4542ms
2025-02-02 12:35:37.751 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:35:37.752 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 253.1152ms
2025-02-02 12:39:31.713 +01:00 [INF] Application is shutting down...
2025-02-02 12:39:34.908 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:39:35.025 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:39:35.052 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:39:35.055 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:39:35.056 +01:00 [INF] Hosting environment: Development
2025-02-02 12:39:35.056 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:39:35.867 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:39:35.989 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 127.9957ms
2025-02-02 12:39:36.444 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:39:36.519 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.5504ms
2025-02-02 12:40:15.820 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 190
2025-02-02 12:40:15.836 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:40:15.853 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:40:15.853 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:40:15.887 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:40:15.901 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:40:16.053 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:40:16.063 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 38
2025-02-02 12:40:16.067 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 11.0133ms.
2025-02-02 12:40:16.072 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:40:16.084 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 180.5752ms
2025-02-02 12:40:16.084 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:40:16.085 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 264.7421ms
2025-02-02 12:40:29.745 +01:00 [INF] Application is shutting down...
2025-02-02 12:40:31.610 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:40:31.724 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:40:31.751 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:40:31.753 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:40:31.754 +01:00 [INF] Hosting environment: Development
2025-02-02 12:40:31.754 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:40:32.276 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:40:32.389 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 114.0752ms
2025-02-02 12:40:32.661 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:40:32.767 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.9937ms
2025-02-02 12:40:46.746 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 190
2025-02-02 12:40:46.752 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:40:46.773 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:40:46.774 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:40:46.798 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:40:46.809 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:40:46.964 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:40:46.974 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 38
2025-02-02 12:40:46.978 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 11.5477ms.
2025-02-02 12:40:46.983 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:40:46.996 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 185.321ms
2025-02-02 12:40:46.997 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:40:46.997 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 251.2675ms
2025-02-02 12:44:58.483 +01:00 [INF] Application is shutting down...
2025-02-02 12:45:01.700 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:45:01.802 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:45:01.828 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:45:01.831 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:45:01.831 +01:00 [INF] Hosting environment: Development
2025-02-02 12:45:01.831 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:45:02.635 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:45:02.874 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 245.5781ms
2025-02-02 12:45:03.309 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:45:03.413 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.4936ms
2025-02-02 12:45:07.620 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Commande - null null
2025-02-02 12:45:07.629 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:45:07.641 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:45:07.665 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.CommandeController.Get (backend-negosud)'
2025-02-02 12:45:07.678 +01:00 [INF] Route matched with {action = "Get", controller = "Commande"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller backend_negosud.Controllers.CommandeController (backend-negosud).
2025-02-02 12:45:07.767 +01:00 [INF] Executing action method backend_negosud.Controllers.CommandeController.Get (backend-negosud) - Validation state: "Valid"
2025-02-02 12:45:07.915 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide, t.ligne_commande_id, t.article_id, t.commande_id, t.quantite, t.article_id0, t.famille_id, t.fournisseur_id, t.libelle, t.prix, t.reference, t.tva_id
FROM commande AS c
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t ON c.commande_id = t.commande_id
ORDER BY c.commande_id, t.ligne_commande_id
2025-02-02 12:45:08.010 +01:00 [INF] Executed action method backend_negosud.Controllers.CommandeController.Get (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 239.8108ms.
2025-02-02 12:45:08.018 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[System.Collections.Generic.List`1[[backend_negosud.DTOs.Commande_client.Outputs.CommandeOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-02 12:45:08.098 +01:00 [INF] Executed action backend_negosud.Controllers.CommandeController.Get (backend-negosud) in 417.3532ms
2025-02-02 12:45:08.099 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.CommandeController.Get (backend-negosud)'
2025-02-02 12:45:08.107 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Commande - 200 null application/json; charset=utf-8 486.9655ms
2025-02-02 12:45:22.806 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 190
2025-02-02 12:45:22.810 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:45:22.812 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:45:22.820 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:45:22.873 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:45:22.883 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 38
2025-02-02 12:45:22.885 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 11.4922ms.
2025-02-02 12:45:22.885 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:45:22.887 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 66.7106ms
2025-02-02 12:45:22.887 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:45:22.887 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 81.4647ms
2025-02-02 12:45:28.329 +01:00 [INF] Application is shutting down...
2025-02-02 12:46:56.301 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:46:56.417 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:46:56.446 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:46:56.448 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:46:56.448 +01:00 [INF] Hosting environment: Development
2025-02-02 12:46:56.449 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:46:57.383 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:46:57.607 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 227.279ms
2025-02-02 12:46:57.883 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:46:57.966 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.8403ms
2025-02-02 12:47:07.358 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 189
2025-02-02 12:47:07.370 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:47:07.394 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:47:07.395 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:47:07.428 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:47:07.444 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:47:07.610 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:47:07.713 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide
FROM commande AS c
WHERE c.commande_id = @__p_0
LIMIT 1
2025-02-02 12:47:07.714 +01:00 [ERR] ClientId est invalide.
2025-02-02 12:47:07.718 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 104.5738ms.
2025-02-02 12:47:07.723 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:47:07.735 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 289.2055ms
2025-02-02 12:47:07.736 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:47:07.740 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 382.3555ms
2025-02-02 12:47:07.773 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend_negosud.Entities.PostgresContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-02 12:48:25.342 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 189
2025-02-02 12:48:25.349 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:48:25.351 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:48:25.352 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:48:25.359 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:48:25.402 +01:00 [ERR] ClientId est invalide.
2025-02-02 12:48:25.403 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 43.7869ms.
2025-02-02 12:48:25.403 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:48:25.404 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 51.9415ms
2025-02-02 12:48:25.404 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:48:25.404 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 62.5307ms
2025-02-02 12:48:25.404 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide
FROM commande AS c
WHERE c.commande_id = @__p_0
LIMIT 1
2025-02-02 12:48:25.409 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend_negosud.Entities.PostgresContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'PostgresContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'PostgresContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-02 12:48:31.711 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 189
2025-02-02 12:48:31.713 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:48:31.720 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:48:31.720 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:48:31.727 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:48:31.729 +01:00 [ERR] ClientId est invalide.
2025-02-02 12:48:31.730 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2.849ms.
2025-02-02 12:48:31.730 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:48:31.730 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 10.1253ms
2025-02-02 12:48:31.730 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:48:31.736 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide
FROM commande AS c
WHERE c.commande_id = @__p_0
LIMIT 1
2025-02-02 12:48:31.739 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend_negosud.Entities.PostgresContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'PostgresContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'PostgresContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-02 12:48:37.057 +01:00 [INF] Application is shutting down...
2025-02-02 12:48:52.990 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:48:53.094 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:48:53.120 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:48:53.123 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:48:53.123 +01:00 [INF] Hosting environment: Development
2025-02-02 12:48:53.123 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:48:53.931 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:48:54.039 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 109.1655ms
2025-02-02 12:48:54.522 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:48:54.597 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.872ms
2025-02-02 12:48:58.582 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 189
2025-02-02 12:48:58.588 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:48:58.604 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:48:58.605 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:48:58.627 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:48:58.639 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:48:58.791 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:48:58.894 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide
FROM commande AS c
WHERE c.commande_id = @__p_0
LIMIT 1
2025-02-02 12:48:58.904 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 40
2025-02-02 12:48:58.908 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 115.1118ms.
2025-02-02 12:48:58.913 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:48:58.926 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 284.5304ms
2025-02-02 12:48:58.926 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:48:58.931 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 348.3152ms
2025-02-02 12:48:58.941 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend_negosud.Entities.PostgresContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-02 12:51:28.664 +01:00 [INF] Application is shutting down...
2025-02-02 12:51:31.794 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:51:31.906 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:51:31.934 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:51:31.937 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:51:31.937 +01:00 [INF] Hosting environment: Development
2025-02-02 12:51:31.937 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:51:32.708 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:51:32.886 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 179.0307ms
2025-02-02 12:51:33.157 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:51:33.236 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.813ms
2025-02-02 12:51:43.534 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 189
2025-02-02 12:51:43.552 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:51:43.566 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:51:43.567 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:51:43.596 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:51:43.611 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:51:43.764 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:51:43.877 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide
FROM commande AS c
WHERE c.commande_id = @__p_0
LIMIT 1
2025-02-02 12:51:43.878 +01:00 [INF] Tentative de récupération du client avec ID: 1
2025-02-02 12:51:43.888 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 41
2025-02-02 12:51:43.893 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 125.5631ms.
2025-02-02 12:51:43.898 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:51:43.914 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 299.7426ms
2025-02-02 12:51:43.914 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:51:43.919 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 385.9427ms
2025-02-02 12:51:43.929 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend_negosud.Entities.PostgresContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-02 12:56:02.454 +01:00 [INF] Application is shutting down...
2025-02-02 12:56:05.576 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:56:05.680 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:56:05.708 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:56:05.710 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:56:05.711 +01:00 [INF] Hosting environment: Development
2025-02-02 12:56:05.711 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:56:06.652 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:56:06.886 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 234.7395ms
2025-02-02 12:56:07.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:56:07.363 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.3716ms
2025-02-02 12:56:17.771 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - application/json 189
2025-02-02 12:56:17.785 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:56:17.807 +01:00 [INF] CORS policy execution successful.
2025-02-02 12:56:17.807 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:56:17.838 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:56:17.852 +01:00 [INF] Route matched with {action = "Register", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(backend_negosud.DTOs.Commande_client.PanierCreateInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-02 12:56:18.009 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.Register (backend-negosud) - Validation state: "Valid"
2025-02-02 12:56:18.114 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.commande_id, c.client_id, c.date_creation, c.facture_id, c.livraison_id, c.valide
FROM commande AS c
WHERE c.commande_id = @__p_0
LIMIT 1
2025-02-02 12:56:18.116 +01:00 [INF] Tentative de récupération du client avec ID: 2
2025-02-02 12:56:18.126 +01:00 [ERR] Erreur lors de la récupération des commandes
System.NullReferenceException: Object reference not set to an instance of an object.
   at backend_negosud.Services.PanierService.CreatePanier(PanierCreateInputDto panierCreateInputDto) in /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud/Services/PanierService.cs:line 41
2025-02-02 12:56:18.131 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.Register (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 118.8963ms.
2025-02-02 12:56:18.136 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierCreateOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:56:18.151 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.Register (backend-negosud) in 296.1335ms
2025-02-02 12:56:18.151 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.Register (backend-negosud)'
2025-02-02 12:56:18.156 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create-basket - 400 null application/json; charset=utf-8 385.0616ms
2025-02-02 12:56:18.166 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend_negosud.Entities.PostgresContext'.
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The reader is closed
   at Npgsql.ThrowHelper.ThrowInvalidOperationException(String message)
   at Npgsql.NpgsqlDataReader.<CheckClosedOrDisposed>g__Throw|138_0(ReaderState state)
   at Npgsql.NpgsqlDataReader.CheckClosedOrDisposed()
   at Npgsql.NpgsqlDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-02-02 12:57:12.393 +01:00 [INF] Application is shutting down...
2025-02-02 12:57:15.889 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-02 12:57:16.013 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-02 12:57:16.045 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-02 12:57:16.047 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-02 12:57:16.048 +01:00 [INF] Hosting environment: Development
2025-02-02 12:57:16.048 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-02 12:57:16.430 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-02 12:57:16.581 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 153.5513ms
2025-02-02 12:57:17.032 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-02 12:57:17.108 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.2328ms
2025-02-02 12:57:24.904 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Stocks - null null
2025-02-02 12:57:24.919 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:57:24.936 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-02 12:57:24.968 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.StocksController.GetAllStocks (backend-negosud)'
2025-02-02 12:57:24.977 +01:00 [INF] Route matched with {action = "GetAllStocks", controller = "Stocks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[backend_negosud.DTOs.StockSummaryDto]]] GetAllStocks() on controller backend_negosud.Controllers.StocksController (backend-negosud).
2025-02-02 12:57:25.068 +01:00 [INF] Executing action method backend_negosud.Controllers.StocksController.GetAllStocks (backend-negosud) - Validation state: "Valid"
2025-02-02 12:57:25.124 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.stock_id, s.article_id, s.quantite, s.reapprovisionnement_auto, s.ref_lot, s.seuil_minimum
FROM stock AS s
2025-02-02 12:57:25.166 +01:00 [INF] Executed action method backend_negosud.Controllers.StocksController.GetAllStocks (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94.71ms.
2025-02-02 12:57:25.172 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend_negosud.DTOs.StockSummaryDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-02 12:57:25.217 +01:00 [INF] Executed action backend_negosud.Controllers.StocksController.GetAllStocks (backend-negosud) in 237.1698ms
2025-02-02 12:57:25.217 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.StocksController.GetAllStocks (backend-negosud)'
2025-02-02 12:57:25.223 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Stocks - 200 null application/json; charset=utf-8 319.1882ms
2025-02-02 12:57:41.066 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Stocks/1 - null null
2025-02-02 12:57:41.078 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.StocksController.GetStockById (backend-negosud)'
2025-02-02 12:57:41.091 +01:00 [INF] Route matched with {action = "GetStockById", controller = "Stocks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[backend_negosud.DTOs.StockDetailDto]] GetStockById(Int32) on controller backend_negosud.Controllers.StocksController (backend-negosud).
2025-02-02 12:57:41.112 +01:00 [INF] Executing action method backend_negosud.Controllers.StocksController.GetStockById (backend-negosud) - Validation state: "Valid"
2025-02-02 12:57:41.214 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.stock_id, s.article_id, s.quantite, s.reapprovisionnement_auto, s.ref_lot, s.seuil_minimum
FROM stock AS s
WHERE s.stock_id = @__p_0
LIMIT 1
2025-02-02 12:57:41.217 +01:00 [INF] Executed action method backend_negosud.Controllers.StocksController.GetStockById (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.5913ms.
2025-02-02 12:57:41.217 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.DTOs.StockDetailDto'.
2025-02-02 12:57:41.222 +01:00 [INF] Executed action backend_negosud.Controllers.StocksController.GetStockById (backend-negosud) in 130.4365ms
2025-02-02 12:57:41.222 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.StocksController.GetStockById (backend-negosud)'
2025-02-02 12:57:41.222 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Stocks/1 - 200 null application/json; charset=utf-8 156.1062ms
