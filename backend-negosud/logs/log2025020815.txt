2025-02-08 15:58:36.260 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-08 15:58:36.371 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 15:58:36.399 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-08 15:58:36.402 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 15:58:36.402 +01:00 [INF] Hosting environment: Development
2025-02-08 15:58:36.402 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-08 15:58:37.043 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-08 15:58:37.176 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 136.756ms
2025-02-08 15:58:37.488 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-08 15:58:37.678 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.8676ms
2025-02-08 15:58:53.226 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5141/api/Panier/create - application/json 190
2025-02-08 15:58:53.239 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 15:58:53.258 +01:00 [INF] CORS policy execution successful.
2025-02-08 15:58:53.258 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 15:58:53.292 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.CreateBasket (backend-negosud)'
2025-02-08 15:58:53.307 +01:00 [INF] Route matched with {action = "CreateBasket", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBasket(backend_negosud.DTOs.Commande_client.PanierInputDto) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 15:58:53.462 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.CreateBasket (backend-negosud) - Validation state: "Valid"
2025-02-08 15:58:53.464 +01:00 [INF] Tentative de récupération du client avec ID: 2
2025-02-08 15:58:53.570 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.acess_token, c.email, c.est_valide, c.mot_de_passe, c.nom, c.prenom, c.tel
FROM client AS c
WHERE c.client_id = @__p_0
LIMIT 1
2025-02-08 15:58:53.631 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ligne_ArticleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM article AS a
    WHERE a.article_id = @__ligne_ArticleId_0)
2025-02-08 15:58:53.786 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO commande (client_id, date_creation, facture_id, livraison_id, valide)
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING commande_id;
2025-02-08 15:58:53.804 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO ligne_commande (article_id, commande_id, quantite)
VALUES (@p5, @p6, @p7)
RETURNING ligne_commande_id;
2025-02-08 15:58:53.828 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.CreateBasket (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 361.8095ms.
2025-02-08 15:58:53.836 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 15:58:53.862 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.CreateBasket (backend-negosud) in 551.6115ms
2025-02-08 15:58:53.863 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.CreateBasket (backend-negosud)'
2025-02-08 15:58:53.873 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5141/api/Panier/create - 200 null application/json; charset=utf-8 646.8547ms
