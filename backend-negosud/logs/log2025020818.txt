2025-02-08 18:14:17.258 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-02-08 18:14:17.302 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-08 18:14:17.347 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-02-08 18:14:17.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-02-08 18:14:17.362 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-08 18:14:17.369 +01:00 [INF] Applying migration '20250208171409_AddExpirationDateBasket'.
2025-02-08 18:14:17.404 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE commande ADD date_expiration timestamp with time zone NOT NULL DEFAULT TIMESTAMPTZ '-infinity';
2025-02-08 18:14:17.405 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250208171409_AddExpirationDateBasket', '8.0.11');
2025-02-08 18:24:00.155 +01:00 [INF] Application is shutting down...
2025-02-08 18:24:04.327 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-08 18:24:04.428 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:24:04.454 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-08 18:24:04.457 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:24:04.457 +01:00 [INF] Hosting environment: Development
2025-02-08 18:24:04.457 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-08 18:24:05.319 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-08 18:24:05.488 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 169.4586ms
2025-02-08 18:24:05.839 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-08 18:24:05.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.9234ms
2025-02-08 18:25:26.668 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/1?clientId=1 - null null
2025-02-08 18:25:26.677 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:25:26.704 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:25:26.732 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:26.748 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:25:26.862 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:25:27.048 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:25:27.160 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 294.9267ms.
2025-02-08 18:25:27.168 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:25:27.249 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 496.4862ms
2025-02-08 18:25:27.250 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:27.257 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/1?clientId=1 - 200 null application/json; charset=utf-8 590.2414ms
2025-02-08 18:25:33.974 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/2?clientId=1 - null null
2025-02-08 18:25:33.981 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:33.981 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:25:33.993 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:25:34.037 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:25:34.039 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.337ms.
2025-02-08 18:25:34.039 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:25:34.040 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 57.8385ms
2025-02-08 18:25:34.040 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:34.040 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/2?clientId=1 - 200 null application/json; charset=utf-8 65.9207ms
2025-02-08 18:25:41.679 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/2?clientId=2 - null null
2025-02-08 18:25:41.696 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:41.698 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:25:41.702 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:25:41.705 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:25:41.705 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.8067ms.
2025-02-08 18:25:41.705 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:25:41.706 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 6.4605ms
2025-02-08 18:25:41.706 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:41.706 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/2?clientId=2 - 200 null application/json; charset=utf-8 27.0768ms
2025-02-08 18:25:46.695 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/2?clientId=4 - null null
2025-02-08 18:25:46.697 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:46.697 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:25:46.700 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:25:46.706 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:25:46.717 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.5633ms.
2025-02-08 18:25:46.717 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:25:46.717 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 19.6982ms
2025-02-08 18:25:46.717 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:25:46.717 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/2?clientId=4 - 200 null application/json; charset=utf-8 22.4671ms
2025-02-08 18:26:40.384 +01:00 [INF] Application is shutting down...
2025-02-08 18:26:43.368 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-08 18:26:43.478 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:26:43.505 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-08 18:26:43.508 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:26:43.508 +01:00 [INF] Hosting environment: Development
2025-02-08 18:26:43.508 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-08 18:26:44.010 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-08 18:26:44.109 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 100.4894ms
2025-02-08 18:26:44.397 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-08 18:26:44.473 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.4129ms
2025-02-08 18:27:09.407 +01:00 [INF] Application is shutting down...
2025-02-08 18:27:12.708 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-08 18:27:12.819 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:27:12.845 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-08 18:27:12.847 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:27:12.847 +01:00 [INF] Hosting environment: Development
2025-02-08 18:27:12.848 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-08 18:27:13.375 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-08 18:27:13.474 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 100.8336ms
2025-02-08 18:27:13.740 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-08 18:27:13.815 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.1459ms
2025-02-08 18:27:38.939 +01:00 [INF] Application is shutting down...
2025-02-08 18:27:41.843 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-08 18:27:41.950 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:27:41.976 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-08 18:27:41.978 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:27:41.979 +01:00 [INF] Hosting environment: Development
2025-02-08 18:27:41.979 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-08 18:27:42.165 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-08 18:27:42.262 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 97.6245ms
2025-02-08 18:27:42.536 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-08 18:27:42.611 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.2292ms
2025-02-08 18:27:47.899 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/5 - null null
2025-02-08 18:27:47.913 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:27:47.937 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:27:47.967 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:27:47.980 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:27:48.076 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:27:48.246 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:27:48.262 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.4228ms.
2025-02-08 18:27:48.270 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:27:48.337 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 353.4793ms
2025-02-08 18:27:48.338 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:27:48.345 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/5 - 200 null application/json; charset=utf-8 446.5506ms
2025-02-08 18:28:53.392 +01:00 [INF] Application is shutting down...
2025-02-08 18:28:56.444 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM client AS c)
2025-02-08 18:28:56.548 +01:00 [INF] User profile is available. Using '/Users/yoann/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-02-08 18:28:56.574 +01:00 [INF] Now listening on: http://localhost:5141
2025-02-08 18:28:56.576 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-08 18:28:56.577 +01:00 [INF] Hosting environment: Development
2025-02-08 18:28:56.577 +01:00 [INF] Content root path: /Users/yoann/Workspace/CESI DI 2023/Negosud/backend/backend-negosud
2025-02-08 18:28:57.392 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/index.html - null null
2025-02-08 18:28:57.497 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/index.html - 200 null text/html;charset=utf-8 106.3309ms
2025-02-08 18:28:57.761 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - null null
2025-02-08 18:28:57.849 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.0944ms
2025-02-08 18:29:02.984 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/2 - null null
2025-02-08 18:29:02.997 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:29:03.008 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-08 18:29:03.028 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:29:03.045 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:29:03.141 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:29:03.310 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:29:03.402 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 258.1371ms.
2025-02-08 18:29:03.410 +01:00 [INF] Executing OkObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:29:03.486 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 437.1427ms
2025-02-08 18:29:03.487 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:29:03.494 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/2 - 200 null application/json; charset=utf-8 510.4799ms
2025-02-08 18:29:18.241 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5141/api/Panier/4 - null null
2025-02-08 18:29:18.248 +01:00 [INF] Executing endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:29:18.249 +01:00 [INF] Route matched with {action = "GetBasketClient", controller = "Panier"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketClient(Int32) on controller backend_negosud.Controllers.PanierController (backend-negosud).
2025-02-08 18:29:18.260 +01:00 [INF] Executing action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) - Validation state: "Valid"
2025-02-08 18:29:18.309 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.commande_id, t.client_id, t.date_creation, t.date_expiration, t.facture_id, t.livraison_id, t.valide, t0.ligne_commande_id, t0.article_id, t0.commande_id, t0.quantite, t0.article_id0, t0.famille_id, t0.fournisseur_id, t0.libelle, t0.prix, t0.reference, t0.tva_id
FROM (
    SELECT c.commande_id, c.client_id, c.date_creation, c.date_expiration, c.facture_id, c.livraison_id, c.valide
    FROM commande AS c
    WHERE c.client_id = @__clientId_0 AND NOT (c.valide)
    ORDER BY c.date_creation DESC
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l.ligne_commande_id, l.article_id, l.commande_id, l.quantite, a.article_id AS article_id0, a.famille_id, a.fournisseur_id, a.libelle, a.prix, a.reference, a.tva_id
    FROM ligne_commande AS l
    INNER JOIN article AS a ON l.article_id = a.article_id
) AS t0 ON t.commande_id = t0.commande_id
ORDER BY t.date_creation DESC, t.commande_id, t0.ligne_commande_id
2025-02-08 18:29:18.310 +01:00 [WRN] Aucun panier actif trouvé pour le client avec l'ID: 4
2025-02-08 18:29:18.310 +01:00 [INF] Executed action method backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 49.8172ms.
2025-02-08 18:29:18.311 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'backend_negosud.Models.ResponseDataModel`1[[backend_negosud.DTOs.Commande_client.Outputs.PanierOutputDto, backend-negosud, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-08 18:29:18.311 +01:00 [INF] Executed action backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud) in 62.4387ms
2025-02-08 18:29:18.311 +01:00 [INF] Executed endpoint 'backend_negosud.Controllers.PanierController.GetBasketClient (backend-negosud)'
2025-02-08 18:29:18.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5141/api/Panier/4 - 400 null application/json; charset=utf-8 70.6046ms
